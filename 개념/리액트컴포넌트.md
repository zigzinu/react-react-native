# 리액트 컴포넌트

  - [4가지 구성 요소](#4가지-구성-요소)
  - [선언적 프로그래밍](#선언적-프로그래밍)
  - [가상 DOM](#가상-dom)
  - [리액트 16의 변경 사항](#리액트-16의-변경-사항)
    - [Fiber](#fiber)
    - [컨텍스트 API](#컨텍스트-api)
    - [`<Fragment>`](#fragment)
    - [포털](#포털)
    - [리스트와 문자열 렌더링](#리스트와-문자열-렌더링)
    - [에러 처리](#에러-처리)
    - [서버 사이드 렌더링](#서버-사이드-렌더링)

## 4가지 구성 요소

1. 데이터: 컴포넌트가 렌더링되는 곳 어디에나 있는 데이터 (컴포넌트 위치와 상관 없다)
2. 생명주기: 컴포넌트 생명주기 내의 변화에 반응하도록 구현한 함수. (예: 컴포넌트가 렌더링되기 시작할 때 호출하는 것)
3. 이벤트: 사용자와 상호 삭용하기 위해 작성한 코드
4. JSX: UI 구조를 표현하기 위해 사용되는 리액트 컴포넌트의 문법 (JSX -> HTML)

## 선언적 프로그래밍

리액트 컴포넌트 JSX로 UI의 구조를 선언한다. 이는 렌더링할 때 UI를 하나씩 조립하는 명령형 방법을 수행할 필요가 없다. UI의 상태를 표시하는 선언적인 프로그래밍으로 이해하고 가자.

## 가상 DOM

선언적인 컴포넌트 렌더링 방식의 성능을 개선하고자 리액트는 가상 DOM 을 사용한다. 메모리 상에 가상 DOM 을 유지하여 컴포넌트를 재렌더링할 때마다 이미 표시된 콘텐츠와 새로운 콘텐츠를 비교해 변화가 있는 컴포넌트만 재렌더링을 수행한다.

- `Diffing`: 이전 콘텐츠와 새로운 콘텐츠를 비교하는 것
- `Patching`: 새로운 콘텐츠를 렌더링하는 데 필요한 DOM 연산을 수행하는 것.

## 리액트 16의 변경 사항

### Fiber

페이지의 모든 컴포넌트를 런타임 시 컴파일해 렌더링하는 대신 우선순위를 지정하고 비동기적으로 렌더링할 수 있는 페이지의 작은 단위로 렌더링한다.

### 컨텍스트 API

모든 트리 레벨에서 컴포넌트에 데이터를 제공할 수 있는 방법을 제공한다.

### `<Fragment>`

리액트 컴포넌트는 단일 요소만 반환할 수 있기 때문에 여러 개의 요소를 렌더링 할 경우 `<div>`로 감싸야 했다. 이 때 불필요하게 많은 DOM 구조를 초래하는 것을 방지하기 위해 `<Fragment>`를 대신 사용할 수 있다.

### 포털

리액트 컴포넌트가 콘텐츠를 리턴하면 트리의 루트까지 전달하여 렌더링된다. 포털(portals)을 사용하면 콘텐츠가 렌더링되는 위치를 구체적으로 제어할 수 있다.

### 리스트와 문자열 렌더링

문자열이나 리스트를 HTML 태그로 감쌀 필요 없이반환할 수 있다.

### 에러 처리

`componentDidCatch()` 생명주기 메서드를 구현하여 에러 경계를 만들 수 있다. 래핑된 컴포넌트 중 하나에서 예외가 발생하면 에러 경계 컴포넌트가 대체할 내용을 렌더링할 수 있다.

### 서버 사이드 렌더링

서버 사이드 렌더링 패턴이 보편화됨에 따라 서버 사이드에서 렌더링된 콘텐츠를 클라이언트로 스트리밍할 수 있게 하여 성능을 크게 향상시켰다.
